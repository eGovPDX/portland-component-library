import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as i}from"./index-CgfFrydU.js";import{P as s}from"./index-Bumu4uq3.js";import{F as y}from"./index.es-DfeDeqgr.js";import{c as R,d as S}from"./index-Tp8Q1HZG.js";const g=({items:r,truncateMiddle:f=!1,className:x="",customSeparator:v})=>{const[t,_]=i.useState(window.innerWidth<768),[p,d]=i.useState(!1),c=i.useRef(null),b=i.useRef(null),h=a=>{if(!c.current||!b.current||!f||r.length<=3||t){d(!1);return}d(!1),requestAnimationFrame(()=>{const n=c.current.offsetWidth,o=b.current;Array.from(o.children).reduce((l,w)=>l+w.offsetWidth,0)>n&&d(!0)})};i.useEffect(()=>{const a=()=>{const o=window.innerWidth<768;_(o),o?d(!1):h()};window.addEventListener("resize",a),h();const n=new ResizeObserver(()=>{h()});return c.current&&n.observe(c.current),()=>{window.removeEventListener("resize",a),n.disconnect()}},[t,f,r]),i.useEffect(()=>{},[f,r]);const u=()=>v||e.jsx(y,{icon:t?R:S,className:"pgov-breadcrumb__separator","aria-hidden":"true"}),j=()=>{if(!p||t)return r.map((m,l)=>e.jsxs("li",{className:"pgov-breadcrumb__item",children:[t&&l>0&&u(),l===r.length-1?e.jsx("span",{className:"pgov-breadcrumb__current","aria-current":"page",children:m.text}):e.jsxs(e.Fragment,{children:[e.jsx("a",{href:m.href,className:"pgov-breadcrumb__link",children:m.text}),!t&&u()]})]},l));const a=r[0],n=r[r.length-1],o=r.length-2;return e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"pgov-breadcrumb__item",children:[e.jsx("a",{href:a.href,className:"pgov-breadcrumb__link",children:a.text}),u()]},"first"),e.jsxs("li",{className:"pgov-breadcrumb__item ellipsis",children:[e.jsx("span",{"aria-label":`${o} more levels`,children:"..."}),u()]},"ellipsis"),e.jsx("li",{className:"pgov-breadcrumb__item",children:e.jsx("span",{className:"pgov-breadcrumb__current","aria-current":"page",children:n.text})},"last")]})},N=["pgov-breadcrumb",p&&!t&&"pgov-breadcrumb--truncated",x].filter(Boolean).join(" ");return e.jsx("nav",{className:N,"aria-label":"Breadcrumbs",ref:c,children:e.jsx("ol",{className:`pgov-breadcrumb__list ${p?"pgov-breadcrumb__list--truncate":""}`,ref:b,children:j()})})};g.propTypes={items:s.arrayOf(s.shape({text:s.string.isRequired,href:s.string})).isRequired,truncateMiddle:s.bool,className:s.string,customSeparator:s.node};g.defaultProps={truncateMiddle:!1,className:"",customSeparator:void 0};g.__docgenInfo={description:`Breadcrumbs component based on USWDS Breadcrumb
Provides navigation context for the current page location`,methods:[],displayName:"Breadcrumbs",props:{truncateMiddle:{defaultValue:{value:"false",computed:!1},description:"Whether to truncate middle items when breadcrumbs get too long",type:{name:"bool"},required:!1},className:{defaultValue:{value:"''",computed:!1},description:"Additional CSS class names",type:{name:"string"},required:!1},customSeparator:{defaultValue:{value:"undefined",computed:!0},description:"Custom separator element",type:{name:"node"},required:!1},items:{description:"Array of breadcrumb items with text and href",type:{name:"arrayOf",value:{name:"shape",value:{text:{name:"string",required:!0},href:{name:"string",required:!1}}}},required:!0}}};export{g as B};
